labs(title = "Range of age by gender",
x= "Age",
y = "Gender")
surgery %>%
filter(gender!="NA") %>%
ggplot(aes(x=gender, y=age, fill=gender))+
geom_boxplot(na.rm=T, alpha=0.6)+
labs(title="Range of Participants' Age by Gender",
x=NULL,
y="Age (years)")+
theme_light()
surgery %>%
filter(gender != "NA") %>%
group_by(gender) %>%
ggplot(aes(x=gender, y=age, fill=gender))+
geom_boxplot()+
labs(title = "Range of age by gender",
x= NULL,
y = "Age")
surgery %>%
filter(gender != "NA") %>%
group_by(gender) %>%
ggplot(aes(x=gender, y=age, fill=gender))+
geom_boxplot()+
labs(title = "Range of age by gender",
x= "Gender",
y = "Age")
surgery %>%
filter(gender != "NA") %>%
group_by(gender) %>%
ggplot(aes(x=gender, y=age, fill=gender))+
geom_boxplot()+
labs(title = "Range of age by gender",
x= "Gender",
y = "Age",
fill = "Gender")
View(surgery)
surgery %>%
filter(asa_status != "NA") %>%
group_by(asa_status)
surgery %>%
filter(asa_status != "NA") %>%
group_by(asa_status) %>%
ggplot(aes(x=asa_status))+
geom_bar()
geom_bar()
surgery %>%
filter(asa_status != "NA") %>%
group_by(asa_status) %>%
ggplot(aes(x=asa_status, fill= asa_status)+
geom_bar()
surgery %>%
filter(asa_status != "NA") %>%
group_by(asa_status) %>%
ggplot(aes(x=asa_status)+
geom_bar()
surgery %>%
filter(asa_status != "NA") %>%
group_by(asa_status) %>%
ggplot(aes(x=asa_status))+
geom_bar()
surgery %>%
filter(asa_status != "NA") %>%
group_by(asa_status) %>%
ggplot(aes(x=asa_status, fill=asa_status))+
geom_bar()
surgery %>%
filter(asa_status != "NA") %>%
group_by(asa_status) %>%
ggplot(aes(x=asa_status, fill=asa_status))+
geom_bar()+
labs(title= "Asa_status comparison",
x= "asa_status",
y=NULL,
fill = "Status")
surgery %>%
filter(asa_status!="NA") %>%
ggplot(aes(x=asa_status, fill=asa_status))+
geom_bar(color="black", alpha=0.6)+
labs(title="ASA Status of Participants", x="ASA", y="# Participants")+
theme_light()
surgery %>%
filter(asa_status != "NA") %>%
group_by(asa_status) %>%
ggplot(aes(x=asa_status, fill=asa_status))+
geom_bar()+
labs(title= "Asa_status comparison",
x= "asa_status",
y=NULL,
fill = "Status")+
theme_light()
surgery %>%
filter(asa_status != "NA") %>%
group_by(asa_status) %>%
ggplot(aes(x=asa_status, fill=asa_status))+
geom_bar(color = "blue", alpha = 1.0)+
labs(title= "Asa_status comparison",
x= "asa_status",
y=NULL,
fill = "Status")
surgery %>%
filter(asa_status != "NA") %>%
group_by(asa_status) %>%
ggplot(aes(x=asa_status, fill=asa_status))+
geom_bar(color = "blue", alpha = 1.0)+
labs(title= "Asa_status comparison",
x= "asa_status",
y=NULL,
fill = "Status")+
theme_light()
surgery %>%
filter(asa_status != "NA") %>%
group_by(asa_status) %>%
ggplot(aes(x=asa_status, fill=asa_status))+
geom_bar(color = "blue", alpha = 1.0)+
labs(title= "Asa_status comparison",
x= "asa_status",
y=NULL,
fill = "Status")
surgery %>%
filter(asa_status != "NA") %>%
group_by(asa_status) %>%
ggplot(aes(x=asa_status, fill=asa_status))+
geom_bar(color = "blue", alpha = 1.0)+
labs(title= "Asa_status comparison",
x= "asa_status",
y=NULL,
fill = "Status")
surgery %>%
filter(bmi != "NA") %>%
group_by(asa_status) %>%
ggplot(aes(x = asa_status, y=bmi, fill = thermoregulation))+
geom_point(na.rm=T)
surgery %>%
filter(bmi != "NA") %>%
group_by(asa_status) %>%
ggplot(aes(x = asa_status, y=bmi, color = thermoregulation))+
geom_point(na.rm=T)
surgery %>%
filter(bmi != "NA") %>%
group_by(asa_status) %>%
ggplot(aes(x = asa_status, y=bmi))+
geom_point(color = thermoregulation, na.rm=T)
surgery %>%
filter(bmi != "NA") %>%
group_by(asa_status) %>%
ggplot(aes(x = asa_status, y=bmi))+
geom_point(na.rm=T)
surgery %>%
filter(bmi != "NA") %>%
group_by(asa_status) %>%
ggplot(aes(x = asa_status, y=bmi))+
geom_jitter(na.rm=T)
surgery %>%
filter(bmi != "NA") %>%
group_by(asa_status) %>%
ggplot(aes(x = asa_status, y=bmi))+
geom_density(na.rm=T)
surgery %>%
filter(bmi != "NA") %>%
group_by(asa_status) %>%
ggplot(aes(x = bmi, y=asa_status))+
geom_density(na.rm=T)
surgery %>%
filter(bmi != "NA") %>%
group_by(asa_status) %>%
ggplot(aes(x = bmi))+
geom_density(na.rm=T)+
facet_wrap(~asa_status)
surgery %>%
ggplot(aes(x=bmi))+
geom_density(fill="steelblue", color="black", alpha=0.6, na.rm=T)+
facet_wrap(~asa_status)+
labs(title="Distribution of BMI", x="BMI", y=NULL)+
theme_light()
surgery %>%
filter(ccsmort30rate != "NA") %>%
filter(ccscomplicationrate != "NA") %>%
group_by(ahrq_ccs) %>%
surgery %>%
filter(ccsmort30rate != "NA") %>%
filter(ccscomplicationrate != "NA") %>%
group_by(ahrq_ccs) %>%
surgery %>%
filter(ccsmort30rate != "NA") %>%
filter(ccscomplicationrate != "NA") %>%
group_by(ahrq_ccs)
surgery %>%
filter(ccsmort30rate != "NA") %>%
filter(ccscomplicationrate != "NA") %>%
group_by(ahrq_ccs) %>%
arrange(desc(ccsmort30rate, na.rm =T))
surgery %>%
filter(ccsmort30rate != "NA") %>%
filter(ccscomplicationrate != "NA") %>%
group_by(ahrq_ccs) %>%
arrange(desc(ccsmort30rate))
surgery %>%
select(ahrq_ccs, ccsmort30rate, ccscomplicationrate) %>%
filter(ccsmort30rate != "NA") %>%
filter(ccscomplicationrate != "NA") %>%
group_by(ahrq_ccs) %>%
arrange(desc(ccsmort30rate))
arrange(desc(c(ccsmort30rate, ccscomplicationrate))
surgery %>%
surgery %>%
select(ahrq_ccs, ccsmort30rate, ccscomplicationrate) %>%
filter(ccsmort30rate != "NA") %>%
filter(ccscomplicationrate != "NA") %>%
group_by(ahrq_ccs) %>%
arrange(desc(ccsmort30rate, ccscomplicationrate)
surgery %>%
select(ahrq_ccs, ccsmort30rate, ccscomplicationrate) %>%
filter(ccsmort30rate != "NA") %>%
filter(ccscomplicationrate != "NA") %>%
group_by(ahrq_ccs) %>%
arrange(c(desc(ccsmort30rate, ccscomplicationrate))
surgery %>%
select(ahrq_ccs, ccsmort30rate, ccscomplicationrate) %>%
filter(ccsmort30rate != "NA") %>%
filter(ccscomplicationrate != "NA") %>%
group_by(ahrq_ccs) %>%
arrange(desc(ccsmort30rate))%>%
arrange(desc(ccscomplicationrate))
surgery %>%
group_by(ahrq_ccs) %>%
summarise(ccsmort30rate=mean(ccsmort30rate)) %>%
arrange(desc(ccsmort30rate)) %>%
slice_max(ccsmort30rate, n=5)
surgery %>%
select(ahrq_ccs, ccsmort30rate, ccscomplicationrate) %>%
filter(ccsmort30rate != "NA") %>%
filter(ccscomplicationrate != "NA") %>%
group_by(ahrq_ccs) %>%
summarize(ccsmort30rate = mean(ccsmort30rate)) %>%
arrange(desc(ccscmort30rate))
surgery %>%
select(ahrq_ccs, ccsmort30rate, ccscomplicationrate) %>%
filter(ccsmort30rate != "NA") %>%
filter(ccscomplicationrate != "NA") %>%
group_by(ahrq_ccs) %>%
summarize(ccsmort30rate = mean(ccsmort30rate)) %>%
arrange(desc(ccsmort30rate))
surgery %>%
select(ahrq_ccs, ccsmort30rate, ccscomplicationrate) %>%
filter(ccsmort30rate != "NA") %>%
filter(ccscomplicationrate != "NA") %>%
group_by(ahrq_ccs) %>%
summarize(ccsmort30rate = mean(ccsmort30rate)) %>%
arrange(desc(ccsmort30rate)) %>%
top_n(5,ccscmort30rate)
surgery %>%
select(ahrq_ccs, ccsmort30rate, ccscomplicationrate) %>%
filter(ccsmort30rate != "NA") %>%
filter(ccscomplicationrate != "NA") %>%
group_by(ahrq_ccs) %>%
summarize(ccsmort30rate = mean(ccsmort30rate)) %>%
arrange(desc(ccsmort30rate)) %>%
top_n(5,ccsmort30rate)
surgery %>%
select(ahrq_ccs, ccsmort30rate, ccscomplicationrate) %>%
filter(ccsmort30rate != "NA") %>%
filter(ccscomplicationrate != "NA") %>%
group_by(ahrq_ccs) %>%
summarize(ccscomplicationrate = mean(ccscomplicationrate)) %>%
arrange(desc(ccscomplicationrate)) %>%
top_n(5,ccscomplicationrate)
surgery %>%
group_by(ahrq_ccs) %>%
summarise(ccscomplicationrate=mean(ccscomplicationrate)) %>%
arrange(desc(ccscomplicationrate)) %>%
slice_max(ccscomplicationrate, n=5)
surgery %>%
select(ahrq_ccs, ccsmort30rate, ccscomplicationrate) %>%
filter(ahrq_ccs %in% c("Colorectal resection", "Small bowel resection", "Gastrectomy; partial and total", "Endoscopy and endoscopic biopsy of the urinary tract", "Spinal fusion", "Nephrectomy; partial or complete")) %>%
group_by(ahrq_ccs) %>%
summarise(ccsmort30rate=mean(ccsmort30rate),
ccscomplicationrate=mean(ccscomplicationrate))
surgery %>%
group_by(ahrq_ccc) %>%
ggplot(aes(x=ccsmort30rate)) %>%
geom_jitter()
surgery %>%
group_by(ahrq_ccs) %>%
ggplot(aes(x=ccsmort30rate)) %>%
geom_jitter()
surgery %>%
group_by(ahrq_ccs) %>%
ggplot(aes(x=ccsmort30rate))+
geom_jitter()
surgery %>%
group_by(ahrq_ccs) %>%
ggplot(aes(x=ahrq_ccs, y=ccsmort30rate))+
geom_jitter()
surgery %>%
group_by(ahrq_ccs) %>%
ggplot(aes(x=ahrq_ccs, y=ccsmort30rate))+
geom_scatter()
surgery %>%
group_by(ahrq_ccs) %>%
ggplot(aes(x=ahrq_ccs, y=ccsmort30rate))+
geom_density(na.rm=T)
group_by(ahrq_ccs) %>%
ggplot(aes(x=ahrq_ccs, y=ccsmort30rate))+
geom_density(na.rm=T)
surgery %>%
filter(ccsmort30rate!="NA")
group_by(ahrq_ccs) %>%
ggplot(aes(x=ahrq_ccs, y=ccsmort30rate))+
geom_density(na.rm=T)
surgery %>%
filter(ccsmort30rate!="NA")
group_by(ahrq_ccs)%>%
ggplot(aes(x=ahrq_ccs, y=ccsmort30rate))+
geom_density(na.rm=T)
surgery %>%
filter(ccsmort30rate!="NA")
ggplot(aes(x=ahrq_ccs, y=ccsmort30rate))+
geom_density(na.rm=T)
surgery %>%
filter(ccsmort30rate!="NA")
ggplot(aes(x=ahrq_ccs, y=ccsmort30rate))+
geom_col()
ggplot(aes(x=ahrq_ccs, y=ccsmort30rate))+
geom_col(position = "dodge")
ggplot(aes(x=ahrq_ccs, y=ccsmort30rate, group=ahrq_ccs))+
geom_col(position="dodge", fill="steelblue", alpha=0.6)
surgery %>%
ggplot(aes(x=ahrq_ccs, y=ccsmort30rate, group=ahrq_ccs))+
geom_col(position="dodge", fill="steelblue", alpha=0.6)
surgery %>%
ggplot(aes(x=ahrq_ccs, y=ccsmort30rate, group=ahrq_ccs, na.rm=T))+
geom_col(position="dodge", fill="steelblue", alpha=0.6)
surgery %>%
ggplot(aes(x=ahrq_ccs, y=ccsmort30rate, group=ahrq_ccs))+
geom_col(position="dodge", fill="steelblue", alpha=0.6)+
coord_flip()+
labs(title="30-Day Mortality by Procedure",
x=NULL,
y="Rate")+
theme_light()
surgery %>%
ggplot(aes(x=ahrq_ccs, y=ccsmort30rate, group=ahrq_ccs, na.rm=T))+
geom_col(position="dodge", fill="steelblue", alpha=0.6)+
coord_flip()
surgery %>%
group_by(month) %>%
summarize(ccsmort30rate = mean(ccsmort30rate, na.rm=T),
ccscomplicationrate = mean(ccscomplicationrate, na.rm=T))
surgery %>%
group_by(month, mort30) %>%
summarize(ccsmort30rate = mean(ccsmort30rate, na.rm=T),
ccscomplicationrate = mean(ccscomplicationrate, na.rm=T))
surgery %>%
group_by(month) %>%
summarize(ccsmort30rate = mean(ccsmort30rate, na.rm=T),
ccscomplicationrate = mean(ccscomplicationrate, na.rm=T))
surgery_new <- surgery %>%
mutate(mort30_n = ifelse(mort30 == "Yes", 1, 0),
complication_n = ifelse(complication =="Yes", 1, 0)) %>%
group_by(month) %>%
summarise(n_deaths=sum(mort30_n),
n_comp=sum(complication_n))
surgery_new
surgery %>%
mutate(dead = case_when(mort30 = "Yes" ~1),
survive = case_when(mort30 = "No" ~0)) %>%
group_by(month) %>%
summarize(mort = sum(mort),
survive = sum(survive))
surgery %>%
mutate(dead = ifelse(mort30 = "Yes" ~1),
survive = ifelse(mort30 = "No" ~0)) %>%
group_by(month) %>%
summarize(mort = sum(mort),
survive = sum(survive))
surgery %>%
mutate(dead = ifelse(mort30 = "Yes", 1, 0),
survive = ifelse(mort30 = "No" , 1, 0)) %>%
group_by(month) %>%
summarize(mort = sum(mort),
survive = sum(survive))
surgery %>%
mutate(dead = ifelse(mort30 == "Yes", 1, 0),
survive = ifelse(mort30 == "No" , 1, 0)) %>%
group_by(month) %>%
summarize(mort = sum(mort),
survive = sum(survive))
surgery %>%
mutate(dead = ifelse(mort30 == "Yes", 1, 0),
survive = ifelse(mort30 == "No" , 1, 0)) %>%
group_by(month) %>%
summarize(dead = sum(dead),
survive = sum(survive)
n=n())
surgery %>%
mutate(dead = ifelse(mort30 == "Yes", 1, 0),
survive = ifelse(mort30 == "No" , 1, 0)) %>%
group_by(month) %>%
summarize(dead = sum(dead),
survive = sum(survive))
surgery %>%
mutate(dead = ifelse(mort30 == "Yes", 1, 0),
survive = ifelse(mort30 == "No" , 1, 0)) %>%
group_by(month) %>%
summarize(dead = sum(dead),
survive = sum(survive)) %>%
ggplot(x = month, fill = c(dead, survive))+
geom_bar()
surgery %>%
mutate(dead = ifelse(mort30 == "Yes", 1, 0),
survive = ifelse(mort30 == "No" , 1, 0)) %>%
group_by(month) %>%
summarize(dead = sum(dead),
survive = sum(survive)) %>%
ggplot(aes(x = month, fill = c(dead, survive)))+
geom_bar()
surgery %>% tabyl(month, mort30)
surgery_new %>%
ggplot(aes(x=month, y=n_deaths))+
geom_col(alpha=0.8, fill="steelblue", color="black")+
labs(title="30-Day Mortality by Month",
x=NULL,
y="Rate")+
scale_x_discrete(limits=c("Jan","Feb","Mar", "Apr", "May", "Jun", "Jul", "Aug", "Sep", "Oct", "Nov", "Dec"))+
theme_light()
surgery %>%
mutate(dead = ifelse(mort30 == "Yes", 1, 0),
survive = ifelse(mort30 == "No" , 1, 0)) %>%
group_by(month) %>%
summarize(dead = sum(dead),
survive = sum(survive)) %>%
ggplot(aes(x = month, y = dead)+
geom_bar()
surgery %>%
mutate(dead = ifelse(mort30 == "Yes", 1, 0),
survive = ifelse(mort30 == "No" , 1, 0)) %>%
group_by(month) %>%
summarize(dead = sum(dead),
survive = sum(survive)) %>%
ggplot(aes(x = month, y = dead))+
geom_bar()
surgery %>%
mutate(dead = ifelse(mort30 == "Yes", 1, 0),
survive = ifelse(mort30 == "No" , 1, 0)) %>%
group_by(month) %>%
ggplot(aes(x = month, y = dead))+
geom_bar()
surgery %>%
group_by(month) %>%
ggplot(aes(x = month, y = dead))+
geom_bar()
surgery %>%
mutate(dead = ifelse(mort30 == "Yes", 1, 0),
survive = ifelse(mort30 == "No" , 1, 0)) %>%
group_by(month) %>%
summarize(dead = sum(dead),
survive = sum(survive))
surgery %>%
group_by(month) %>%
ggplot(aes(x = month, y = dead))+
geom_bar()
surgery %>%
mutate(dead = ifelse(mort30 == "Yes", 1, 0),
survive = ifelse(mort30 == "No" , 1, 0)) %>%
group_by(month) %>%
summarize(dead = sum(dead),
survive = sum(survive))
surgery %>%
group_by(month) %>%
ggplot(aes(x = month, y = dead))+
geom_bar()
surgery %>%
mutate(dead = ifelse(mort30 == "Yes", 1, 0),
survive = ifelse(mort30 == "No" , 1, 0)) %>%
group_by(month) %>%
summarize(dead = sum(dead),
survive = sum(survive))
surgery %>%
mutate(dead = ifelse(mort30 == "Yes", 1, 0),
survive = ifelse(mort30 == "No" , 1, 0)) %>%
group_by(month) %>%
summarize(dead = sum(dead),
survive = sum(survive)) %>%
ggplot(aes(x=month, y=dead))+
geom_col()
surgery %>%
mutate(dead = ifelse(mort30 == "Yes", 1, 0),
survive = ifelse(mort30 == "No" , 1, 0)) %>%
group_by(month) %>%
summarize(dead = sum(dead),
survive = sum(survive)) %>%
ggplot(aes(x=reorder(month), y=dead))+
geom_col()
surgery %>%
mutate(dead = ifelse(mort30 == "Yes", 1, 0),
survive = ifelse(mort30 == "No" , 1, 0)) %>%
group_by(month) %>%
summarize(dead = sum(dead),
survive = sum(survive)) %>%
ggplot(aes(x=month, y=dead))+
geom_col()
knitr::opts_chunk$set(echo = TRUE)
library(tidyverse)
library(janitor)
library(here)
library(naniar)
options(scipen = 999)
install.packages("gapminder")
library("gapminder")
summary(gapminder)
miss_var_summary(gapminder)
